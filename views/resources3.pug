extends layout

block content
    .resources
        - var activeSubsectionObject = resourcesInfo.find(sub_section => {return sub_section.value===activeSubsection})
        .ui.grid 
            .column.four.wide 
                .ui.menu.fluid.stackable.vertical
                    each sectionTitle in sectionTitles 
                        .section
                            h3.section_title 
                                | #{sectionTitle.toUpperCase()}
                            - var sub_sections = resourcesInfo.filter(sub_section => {return sub_section.section===sectionTitle})
                            each sub_section in sub_sections
                                - var isActiveSubSection = sub_section["value"]===activeSubsectionObject["value"]
                                a(href="/resources/"+sub_section["value"])
                                    p.subsection_title.subsection_link(class={active: isActiveSubSection}) 
                                        | #{sub_section["title"]}
            .column.twelve.wide
                - var language_colortags = { 'English': 'blue', 'Spanish': 'orange', 'Chinese': 'red', 'Vietnamese': 'purple'}
                h2.boldText #{activeSubsectionObject["title"]}
                .ui.grid.stackable.two.column
                    each resource in activeSubsectionObject["content"]
                        .column
                            .ui.fluid.card(href=resource["url"]).resourceCard
                                .content
                                    i.right.floated.icon(class="external alternate")
                                    .header #{resource["title"]}
                                    //- .description
                                
                                if resource["description"]
                                    .content
                                        .description.addBottomMargin #{resource["description"]}
                                    //-     a.blue(href=resource["url"], target="_blank") #{resource["url"]}
                                .content.extra
                                    //- if resource["description"]
                                    //-     .description.addBottomMargin #{resource["description"]}
                                    each language in resource["languages"]
                                        .ui.label(class=language_colortags[language]) #{language}

block styles 
    link(rel='stylesheet', href='/css/resources3.css')

block scripts
    script. 
        function clickSubsection(value){
            window.location.href=`/resources/${value}`;
        }
    script. 
        $('.resourceCard').on('click', function(){
            const redirectToURL = $(this)[0].getAttribute("href");
            window.open(redirectToURL,'_blank');
        })
    //- script. 
    //-     $('.resourceCard').hover(
    //-         function(){
    //-             //- mouse over
    //-             $(this).css("background-color", "#f2f2f2");
    //-             $(this).find('.header').css("background-color", "#f2f2f2");
    //-             $(this).find('.description').css("background-color", "#f2f2f2");
    //-         }, 
    //-         function(){
    //-             //- mouse out 
    //-             $(this).css("background-color", "");
    //-             $(this).find('.header').css("background-color", "");
    //-             $(this).find('.description').css("background-color", "");
    //-         })